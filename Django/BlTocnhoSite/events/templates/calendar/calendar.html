{% extends 'base.html' %}
{% load static %}
{% load my_filters %}
{% block title %}Calendar 04{% endblock  %}
{% block content %}
<link rel="stylesheet" href="{% static 'my_calendar/css/style.css' %}">
<!-- <script src="{% static 'my_calendar/js/main.js' %}"></script> -->
<div class="bltochno_calendar">
  <div class="calendar_header" style="display: flex; justify-content: space-between;">
    <button id="btnPrev" type="button"><a href="/calendar/{{prev_year}}/{{prev_month}}">Предыдущий</a></button>
    <div class="calendar_year">{{year}}</div>
    <!-- <div class="calendar_month">{{month|month_to_string}}</div> -->
    <button id="btnNext" type="button"><a href="/calendar/{{next_year}}/{{next_month}}">Следующий</a></button>
  </div>
  <table class="calendar_table">
    <tr class="my_row">
      <th class="my_col">Понедельник</th>
      <th class="my_col">Вторник</th>
      <th class="my_col">Среда</th>
      <th class="my_col">Четверг</th>
      <th class="my_col">Пятница</th>
      <th class="my_col">Суббота</th>
      <th class="my_col">Воскресенье</th>
    </tr>
    {% for week in month_list %}
    <tr class="my_row">
      {% for day_dict in week%}
      <th class="my_col">
        <div class="day_number">{{day_dict.day|dt_handler}}</div>
        {%if day_dict.events%}
          {% for event in day_dict.events %}
            <div class="event_cell">
              <div>{{event.tm}}</div>
              <div>{{event.name}}</div>
              <div>{{event.status}}</div>
              <div>Действия</div>
            </div>
          {%endfor%}
        {%else%}
          <div class="event_cell">
            <div>Ничего не запланированно</div>
          </div>
        {%endif%}
      {%endfor%}
      </th>
      {% endfor %}
    </tr>
  </table>
</div>
	</body>
</html>
{% endblock %}
	

